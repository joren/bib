<div>
  <div class="flex items-center justify-between mb-8">
    <h1 class="text-3xl font-bold">Library</h1>
    <%= link_to "Upload Book", new_book_path,
        class: "bg-blue-600 text-white py-2 px-6 rounded-md hover:bg-blue-700" %>
  </div>

  <%= render Books::SearchFormComponent.new(
    query: params[:query],
    type: params[:type],
    sort: params[:sort]
  ) %>

  <% if @books.any? %>
    <div class="mb-4 text-sm text-gray-600">
      <%= pluralize(@books.count, "book") %> found
    </div>
    <%= render Books::GridComponent.new(books: @books) %>
  <% else %>
    <% if params[:query].present? || params[:type].present? %>
      <div class="text-center py-12">
        <p class="text-gray-600">No books found matching your search.</p>
        <%= link_to "Clear search", books_path, class: "text-blue-600 hover:text-blue-700 mt-2 inline-block" %>
      </div>
    <% else %>
      <%= render Books::EmptyStateComponent.new %>
    <% end %>
  <% end %>
</div>
